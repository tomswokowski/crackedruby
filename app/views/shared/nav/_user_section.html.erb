<div class="mt-auto mb-4 menu-content" data-nav-drawer-target="menuContent">
  <% if user_signed_in? %>
    <details class="group">
      <summary class="flex justify-between items-center w-full cursor-pointer px-2 py-2 
                      rounded bg-gray-light hover:bg-gray-light">
        <span class="text-xs text-black truncate">
          <span class="hidden md:inline"><%= current_user.email %></span>
          <span class="md:hidden"><%= current_user.email.split('@').first %></span>
        </span>
        <span class="flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" 
               class="h-4 w-4 text-gray group-open:hidden" 
               fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" 
               class="h-4 w-4 text-gray hidden group-open:inline" 
               fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </span>
      </summary>
      <div class="mt-2 ml-2 flex flex-col space-y-1 text-sm">
        <% if current_user.admin? %>
          <%= link_to "Admin Dashboard", 
                      admin_root_path, 
                      class: "block px-2 py-1 hover:bg-gray-light rounded text-sm text-ruby cursor-pointer" %>
        <% end %>
        <%= link_to "Settings", 
                    settings_path, 
                    class: "block px-2 py-1 hover:bg-gray-light rounded text-sm cursor-pointer" %>
        <%= button_to "Sign Out", 
                      destroy_user_session_path, 
                      method: :delete, 
                      data: { turbo: false }, 
                      class: "w-full text-left px-2 py-1 hover:bg-gray-light rounded text-sm cursor-pointer" %>
      </div>
    </details>
  <% else %>
    <button data-action="click->modal#open" 
            class="w-full text-center px-4 py-2 bg-ruby text-white rounded hover:bg-ruby/90 cursor-pointer">
      Sign In
    </button>
  <% end %>
</div>
