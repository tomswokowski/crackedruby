<div class="mt-auto mb-4 menu-content" data-navigation-drawer-target="menuContent">
  <% if user_signed_in? %>
    <details class="group">
      <summary class="flex justify-between items-center w-full cursor-pointer px-2 py-2 rounded bg-gray-100 hover:bg-gray-200">
        <span class="text-xs text-gray-800 truncate">
          <span class="hidden md:inline"><%= current_user.email %></span>
          <span class="md:hidden"><%= current_user.email.split('@').first %></span>
        </span>
        <span class="flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 group-open:hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
          </svg>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-400 hidden group-open:inline" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </span>
      </summary>
      <div class="mt-2 ml-2 flex flex-col space-y-1 text-sm">
        <% if current_user.admin? %>
          <%= link_to "Admin Dashboard", admin_root_path, class: "block px-2 py-1 hover:bg-gray-100 rounded text-sm text-red-700 cursor-pointer" %>
        <% end %>
        <%= link_to "Settings", settings_path, class: "block px-2 py-1 hover:bg-gray-100 rounded text-sm cursor-pointer" %>
        <%= button_to "Sign Out", destroy_user_session_path, method: :delete, data: { turbo: false }, class: "w-full text-left px-2 py-1 hover:bg-red-50 hover:text-red-600 rounded text-sm cursor-pointer" %>
      </div>
    </details>
  <% else %>
    <button data-action="click->modal#open" class="w-full text-center px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 cursor-pointer">
      Sign In
    </button>
  <% end %>
</div>
